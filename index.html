<!DOCTYPE html>
<html lang="en">
<head>
	<title>Chipotle</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="msapplication-tap-highlight" content="no" />
	<link rel="shortcut icon" href="favicon.ico?">
	<link href="debug.css" rel="stylesheet" />
	<style>
		#logo {
			max-width: 100vw;
			max-height: 100vh;
		}
	</style>
	<script src="errorService.js"></script>
	<script src="cordova.js"></script>
	<script type="text/javascript">
		var inAppBrowserRef;

		function loadStopCallBack() {
			if (inAppBrowserRef != undefined) {
				inAppBrowserRef.show();
			}
		}

		function onDeviceReady() {
			if (typeof cordova !== 'undefined') {
				//hide untill fully loaded
				inAppBrowserRef = cordova.InAppBrowser.open('https://order.chipotle.com/', '_self', 'location=no,hidden=yes,clearcache=no,clearsessioncache=no');

				//show when the page is fully loaded
				inAppBrowserRef.addEventListener('loadstop', loadStopCallBack);

				//the user has hit back too many times, reload them
				inAppBrowserRef.addEventListener('exit', onDeviceReady);

				//start caching images
				cordova.InAppBrowser.open('cache.html', '_self', 'location=no,hidden=yes,clearcache=no,clearsessioncache=no');
			}
		}

		//cordova is ready
		document.addEventListener('deviceready', onDeviceReady, false);
	</script>
</head>
<body>
	<div id="debug">
		<!-- can remove for prod -->
		<a onclick="document.getElementById('debug').style.display = 'none';">[X]</a>
		<script>document.getElementById('debug').style.display = 'none';</script>
	</div>
	<img id="logo" src="res/logo.svg" />
</body>
</html>